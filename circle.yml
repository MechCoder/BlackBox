dependencies:
  override:
    - bash ./build_tools/circle/install.sh:
        timeout: 1024

test:
  # Run and convert examples to markdown, then grep for errors
  override:
    - bash ./build_tools/circle/execute.sh:
        timeout: 3600
    - if grep -q "Traceback (most recent call last):" nb_to_md.txt; then false; else true; fi

deployment:
 push:
   branch: master
   commands:
     - bash ./build_tools/circle/deploy.sh

general:
  # Open the doc to the API
  artifacts:
    - ~/doc/skopt/notebooks
